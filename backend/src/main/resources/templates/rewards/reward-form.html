<!DOCTYPE html>
<html lang="ca" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title th:text="${formMode == 'create'} ? 'Crear Recompensa' : 'Editar Recompensa'"></title>
        <link rel="stylesheet" href="/styles/userFormStyles.css">
        <link rel="stylesheet" href="/styles/sideBarStyle.css">
    </head>
    <body>

        <!-- Botó per obrir/tancar la barra lateral -->
        <button id="toggle-sidebar">☰</button>

        <main class="user-form-wrapper">
            <div class="user-form-card">
                <a href="/rewards/list" class="back-button">←</a>

                <form th:action="@{${formMode == 'create'} ? '/rewards/create' : '/rewards/edit/' + ${reward.id}}"
                      th:object="${reward}" method="post" class="user-form-content">

                    <div class="form-section">
                        <h2 th:text="${formMode == 'create'} ? 'Crear Recompensa' : 'Editar Recompensa'"></h2>

                        <div class="field-group">
                            <label for="nom">Nom:</label>
                            <input type="text" id="nom" th:field="*{nom}" required />
                        </div>

                        <div class="field-group">
                            <label for="preu">Preu (punts):</label>
                            <input type="number" id="preu" th:field="*{preu}" step="0.01" required />
                        </div>

                        <div class="field-group">
                            <label for="direccio">Direcció:</label>
                            <input type="text" id="direccio" th:field="*{direccio}" required />
                        </div>

                        <div class="field-group vertical">
                            <label for="descripcio">Descripció:</label>
                            <textarea id="descripcio" th:field="*{descripcio}"></textarea>
                        </div>

                        <!-- ESTAT: ocult, sempre "AVAILABLE" (opcional si ja ho fas al backend) -->
                        <input type="hidden" th:field="*{estat}" value="AVAILABLE"/>

                        <div class="save-btn-container">
                            <button type="submit" class="btn save-btn" th:text="${formMode == 'create'} ? 'crear' : 'guardar'"></button>
                        </div>
                    </div>
                </form>
            </div>
        </main>

        <script src="/scripts/sidebar.js"></script>
    </body>
</html>
