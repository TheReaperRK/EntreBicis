<!DOCTYPE html>
<html lang="ca" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title th:text="${formMode == 'create'} ? 'Crear Usuari' : 'Editar Usuari'"></title>
        <link rel="stylesheet" href="/styles/userFormStyles.css">
    </head>
    <body>
        <!-- Bot√≥ per obrir/tancar la barra lateral -->
        <button id="toggle-sidebar">‚ò∞</button>

        <h1 th:text="${formMode == 'create'} ? 'Crear Nou Usuari' : 'Editar Usuari'"></h1>

        <form th:action="@{${formMode == 'create'} ? '/users/create' : '/users/edit/' + ${user.mail}}" th:object="${user}" method="post">

            <label>Correu electr√≤nic:</label>
            <input type="email" th:field="*{mail}" th:readonly="${formMode == 'edit'}"/>
            <br/>

            <label>Nom:</label>
            <input type="text" th:field="*{name}" />
            <br/>

            <label>Cognoms:</label>
            <input type="text" th:field="*{surnames}" />
            <br/>

            <label>Poblaci√≥:</label>
            <input type="text" th:field="*{population}" />
            <br/>

            <label>Tel√®fon:</label>
            <input type="text" th:field="*{phone_number}" />
            <br/>

            <label>Rol:</label>
            <select th:field="*{role}">
                <option th:each="r : ${T(cat.copernic.backend.entity.enums.Role).values()}"
                        th:value="${r}"
                        th:text="${r}"></option>
            </select>

            <br/>

            <label>Balan√ß:</label>
            <input type="number" step="1" th:field="*{balance}" />

            <!-- Aqu√≠ podries afegir imatge si cal -->

            <button type="submit" th:text="${formMode == 'create'} ? 'Crear' : 'Desar Canvis'"></button>
        </form>

        <a href="/users/list">üîô Tornar a la llista</a>
    </body>
</html>
